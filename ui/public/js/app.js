var socket=io();var chat=document.getElementById("id-chat");var form=document.getElementById("id-chat__form");var message=document.getElementById("id-chat__form-message");var messages=[];function render(c,b){var a=document.createElement("li");a.className+=" chat__post";if(c.user==ip){a.className+=" chat__post--me"}if(b){a.className+=" chat__post--animate"}a.innerHTML="<span class='chat__datetime'>"+moment(c.datetime).format("Do MMM h:mm A")+"</span><span class='chat__message'>"+c.message+"</span>";chat.insertBefore(a,chat.childNodes[0])}socket.on("connect",function(a){socket.emit("join","Hello World from client")});socket.on("welcome",function(a){console.log(a);for(m in a){render(a[m])}});form.onsubmit=function(){var b=message.value;message.value="";var a={message:b,user:ip};socket.emit("chat message",a);return false};socket.on("chat message",function(a){render(a,true)});